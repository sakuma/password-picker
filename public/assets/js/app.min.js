"use strict";new Vue({el:"#app",created:function(){this.fetchData()},data:{passwords:[],newPassword:{title:null,note:null,attributes:[{key:null,value:null}]}},methods:{fetchData:function(){var a=this;window.superagent.get("/passwords").send().end(function(b){for(var c=JSON.parse(b.text),d=0;d<c.length;++d)c[d].EditMode=!1;a.passwords=c})},addPassword:function(){var a=this,b=a.newPassword;return window.superagent.post("/passwords").send({title:b.title,attributes:b.attributes,note:b.note}).end(function(c){if(200===c.status){console.log(c);var d=JSON.parse(c.text);a.passwords.unshift(d),a.resetNewPassword(b)}else console.log("failure"),console.log(c.text)}),!1},resetNewPassword:function(a){a.title=null,a.note=null,a.attributes=[{key:null,value:null}]},deletePassword:function(a,b){var c=this;return window.superagent.del("/passwords/"+a.Id).send({}).end(function(a){200===a.status?c.passwords.$remove(b):(console.log("failure"),console.log(a.text))}),!1},addAttribute:function(){this.newPassword.attributes.$add({key:null,value:null})},delAttribute:function(){this.newPassword.attributes.pop()},toggleEditMode:function(a){this.passwords[a].EditMode=!this.passwords[a].EditMode}}}),Vue.component("password",{template:"#password-template",methods:{updatePassword:function(a){var b=a;window.superagent.put("/passwords/"+b.Id).send({title:b.Title,attributes:b.Attributes,note:b.Note}).end(function(a){if(200===a.status){console.log("success");{JSON.parse(a.text)}b.EditMode=!1}else console.log("failure"),console.log(a.text)})}}}),$(document).ready(function(){$(".button-collapse").sideNav(),$(".modal-trigger").leanModal()});