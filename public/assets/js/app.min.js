"use strict";new Vue({el:"#app",created:function(){this.fetchData()},data:{visibilityForm:!1,passwords:[],newPassword:{title:null,note:null,attributes:[{key:null,value:null}]}},methods:{fetchData:function(){var a=this;window.superagent.get("/passwords").send().end(function(b){for(var c=JSON.parse(b.text),d=0;d<c.length;++d)c[d].EditMode=!1;a.passwords=c})},addPassword:function(){var a=this;return window.superagent.post("/passwords").send({title:this.newPassword.title,attributes:this.newPassword.attributes,note:this.newPassword.note}).end(function(b){if(200===b.status){console.log(b);var c=JSON.parse(b.text);a.passwords.$set(0,c),a.visibilityForm=!1}else console.log("failure"),console.log(b.text)}),!1},deletePassword:function(a,b){var c=this;return window.superagent.del("/passwords/"+a.Id).send({}).end(function(a){200===a.status?(c.passwords.$remove(b),c.visibilityForm=!1):(console.log("failure"),console.log(a.text))}),!1},visibleAddPassword:function(){this.visibilityForm=!0},addAttribute:function(){this.newPassword.attributes.push({key:null,value:null})},delAttribute:function(){this.newPassword.attributes.pop()},toggleEditMode:function(a){this.passwords[a].EditMode=!this.passwords[a].EditMode}}}),Vue.component("password",{template:"#password-template",methods:{updatePassword:function(a){var b=a;window.superagent.put("/passwords/"+b.Id).send({title:b.Title,attributes:b.Attributes,note:b.Note}).end(function(a){if(200===a.status){console.log("success");{JSON.parse(a.text)}b.EditMode=!1}else console.log("failure"),console.log(a.text)})}}}),$(document).ready(function(){$(".modal-trigger").leanModal()});